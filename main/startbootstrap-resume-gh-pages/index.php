<!DOCTYPE html>
<html lang="en">

  <head>
    <link rel="javascript" type="text/javascript" href="music.js">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>WinkMeUp</title>

    <!-- Bootstrap core CSS -->
    <link href="vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom fonts for this template -->
    <link href="https://fonts.googleapis.com/css?family=Saira+Extra+Condensed:100,200,300,400,500,600,700,800,900" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i,800,800i" rel="stylesheet">
    <link href="vendor/font-awesome/css/font-awesome.min.css" rel="stylesheet">
    <link href="vendor/devicons/css/devicons.min.css" rel="stylesheet">
    <link href="vendor/simple-line-icons/css/simple-line-icons.css" rel="stylesheet">

    <!-- Custom styles for this template -->
    <link href="css/resume.min.css" rel="stylesheet">
	 <link href="css/style.css" rel="stylesheet">

  </head>  
  <body id="page-top">

  
  <audio id="myAudio">
  <source src="instrumental.mp3" type="audio/mpeg">
  Your browser does not support the audio element.
  </audio>
  
  
  
    <nav class="navbar navbar-expand-lg navbar-dark bg-primary fixed-top" id="sideNav">
      <a class="navbar-brand js-scroll-trigger" href="#page-top">
        <span class="d-block d-lg-none">Start Bootstrap</span>
        <span class="d-none d-lg-block">
          <img class="img-fluid img-profile rounded-circle mx-auto mb-2" src="img/logo.png" alt="">
        </span>
      </a>
      <div class="collapse navbar-collapse" id="navbarSupportedContent">
        <ul class="navbar-nav">
          <li class="nav-item">
            <a class="nav-link js-scroll-trigger" href="#Profile">Profile</a>
          </li>
          <li class="nav-item">
            <a class="nav-link js-scroll-trigger" href="#Friends">My Friends</a>
          </li>
          <li class="nav-item">
            <a class="nav-link js-scroll-trigger" href="#Music">My Music</a>
          </li>
          <li class="nav-item">
            <a class="nav-link js-scroll-trigger" href="#Alarm">Alarm setting</a>
          </li>
			 <li class="nav-item">
            <a class="nav-link js-scroll-trigger" href="../index.html">Logout</a>
          </li>
        </ul>
      </div>
    </nav>

    <div class="container-fluid p-0">

      <section class="resume-section p-3 p-lg-5 d-flex d-column" id="Profile">
        <div class="my-auto">
          <h2 class="mb-5">Welcome <span class="text-primary"><?php echo $_GET['user'];?></span></h2>
			 	
			 <div class="input-group-append">
                <button type="button" class="btn btn-success" onclick="openAlarm()">ALARM ON</button>
          </div>
				
			 <br>
			 
			 <canvas id="canvas" width="300" height="300" style="background-color:FFFFFF">
			 
			 
      </section>

      <section class="resume-section p-3 p-lg-5 d-flex flex-column" id="Friends">
        <div class="my-auto">
            <h2 class="mb-5">Your Friends</h2>
    
            <div class="resume-item d-flex flex-column flex-md-row mb-5">
                <div class="resume-content mr-auto col-md-12">
                    
						  
				<div id="myDIV" class="header">
						<input class="input2" type="text" id="myInput" placeholder="Look for friend">
					<span onclick="newElement()" class="addBtn">Add</span>
				</div>

				<ul id="myUL">

				</ul>
	  
               </div>
				</div>
			</div>
		</section>

      <section class="resume-section p-3 p-lg-5 d-flex flex-column" id="Music">
        <div class="my-auto">
          <h2 class="mb-5">My Music</h2>
			 
			 	<div class="input-group-append">
                <button type="button" class="btn btn-success">+ Add Music...</button>
            </div>
				
				<br>
			 
			 <h3 class="mb-5">PomPom</h3>
			 
				  <div>
              <audio controls>
                  <source src="ponpon.mp3" type="audio/mpeg">
                Your browser does not support the audio element.
                </audio>
              </div>
          

        </div>
      </section>

      <section class="resume-section p-3 p-lg-5 d-flex flex-column" id="Alarm">
        <div class="my-auto">
		  
			 <center><div class="div2">
			 <h2 class="mb-5"> CURRENT SETTINGS</h2>
			 </div></center><br>
			 
			 <center><h3> Alarm received from <font color="E86E1F" id="displayedname">Marguerite Fleury</font> </h3></center>
			 <center><h1 id="displayedtime"> 8:00 AM </h1></center>
			 
			 <br>
			 
			 <center><div class="div1">
			 <h2 class="mb-5" style="color:CC3636"> CHANGE SETTINGS</h2>
			 </div></center>
				<center>
				<h1 class="fa fa-child fa-fw"></h1>
				<h4>[Waker's name] Enter your friend's name:</h4>
				<input class="" type="text" name="uname" id="friendname"><br>
				<center><br>
				<h1 class="fa fa-bell fa-fw"></h1>
				<h4>[Alarm time] wake me up at:</h4>
				<input type="time" name="usr_time" id="usertime">
				<br><br>
				<center><button type="button" class="btn btn-success" onclick="changeit()">Submit</button></center><br>
				<b><p id="myalert"  style="color:red;"></p></b></center>
        </div>
      </section>

    </div>

    <!-- Bootstrap core JavaScript -->
    <script src="vendor/jquery/jquery.min.js"></script>
    <script src="vendor/bootstrap/js/bootstrap.bundle.min.js"></script>

    <!-- Plugin JavaScript -->
    <script src="vendor/jquery-easing/jquery.easing.min.js"></script>

    <!-- Custom scripts for this template -->
    <script src="js/resume.min.js"></script>
	 <script src="js/script.js"></script>

	 <script>
	 
// Create a "close" button and append it to each list item
var myNodelist = document.getElementsByClassName("lol");
var i;
for (i = 0; i < myNodelist.length; i++) {
  var span = document.createElement("SPAN");
  var txt = document.createTextNode("\u00D7");
  span.className = "close";
  span.appendChild(txt);
  myNodelist[i].appendChild(span);
}

// Click on a close button to hide the current list item
var close = document.getElementsByClassName("close");
var i;
for (i = 0; i < close.length; i++) {
  close[i].onclick = function() {
    var div = this.parentElement;
    div.style.display = "none";
  }
}

// Add a "checked" symbol when clicking on a list item
var list = document.querySelector('ul');
list.addEventListener('click', function(ev) {
  if (ev.target.tagName === 'LI') {
    ev.target.classList.toggle('checked');
  }
}, false);

  var friendarr = []; // jz

// Create a new list item when clicking on the "Add" button
function newElement() {
  var li = document.createElement("li");
  var inputValue = document.getElementById("myInput").value;
  friendarr.push(inputValue);
  var t = document.createTextNode(inputValue);
  li.appendChild(t);
  if (inputValue === '') {
    alert("You must write something!");
  } else {
    document.getElementById("myUL").appendChild(li);
  }
  document.getElementById("myInput").value = "";

  var span = document.createElement("SPAN");
  var txt = document.createTextNode("\u00D7");
  span.className = "close";
  span.appendChild(txt);
  li.appendChild(span);

  for (i = 0; i < close.length; i++) {
    close[i].onclick = function() {
      var div = this.parentElement;
      div.style.display = "none";
    }
  }
}

function changeit() {
	  var usertime = document.getElementById("usertime").value;
	  var friendname = document.getElementById("friendname").value;
	  if (usertime == ""){
		  document.getElementById("myalert").innerHTML = "Missing alarm time";
	  }
	  else{
		  if (friendname != "" && friendarr.indexOf(friendname) != -1){
			document.getElementById("displayedname").innerHTML = friendname;
			document.getElementById("displayedtime").innerHTML = usertime;
		  }
		  else{
			  document.getElementById("myalert").innerHTML = "Friend does not exist";
		  }
	  }
}


function openAlarm(){
	var x = document.getElementById("myAudio"); 
	var hour = date.getHours();
	var min = date.getMinutes();
	var sec = date.getSeconds();
	if (hour == 10 && min == 17 && sec == 00){
		x.play(); 
	}
}

</script>
	 
	 
  </body>

  
  
</html>
